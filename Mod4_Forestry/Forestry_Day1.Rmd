Module 4: Forestry Management

# Vignette
Members of the K'avi tribe have managed a forest on their lands for decades. Recently, tribal forestry managers have started collecting data from a few different sites in the forest. They would like to set up a location for managing and harvesting Douglas firs for lumber. It is your job to analyze the data and determine which of the proposed sites would be the best for a harvest. They would also like for you to present your analysis and the reasons for your choice to tribal elders.

--------------------------------------------------------------------------------
# WORKSHOP: Learning goals (More for us as a team, rather than for SKC students)

The goal of the first day of the this forestry module is to have the students replicate what they did in the first 3 modules all at once and to do so more independently than previously. 

Things this module should include are: 

1. Min, max, median, mean review.  

2. Maximum sustained yield. 

3. More time-series exploration

4. More complex data visualization. 

--------------------------------------------------------------------------------
#PART 1-
**For the student version we will clear these segments so they have to come up with the code themselves but I have included the code for the instructor version. **
##Clearing the environment
```{r}
rm(list = ls())
```

##Setting the Working Directory
```{r}
current_path = rstudioapi::getActiveDocumentContext()$path
setwd(dirname(current_path))
```

##Load in Packages, what packages will you need to analyze and/or visualize this data?

```{r, load in the packages}
library(tidyverse)
```

## Read in data

Below is the data that the forestry managers have been collecting from the different site
*Add a description of each site? Ex: site 1 is near a river...*
```{r, load in the data}
site_1 <- read.csv("site_1.csv")
site_2 <- read.csv("site_2.csv")
site_3 <- read.csv("site_3.csv")
site_4 <- read.csv("site_4.csv")
```

## Exploring the data


Now that you've loaded in the data from the different sites, feel free to insert a code chunk below to explore what the variables are in the data:

```{r, look at the data}
#Use this chunk to look at the data above

head(site_1)
head(site_2)
head(site_3)
head(site_4)

#Could also use dim, glimpse, view....
```

What are the dimensions of the data from each site? What variables does the data you just loaded in contain? 


What do these variables?mean in the context of forestry management? How could this data be used to determine which site is the best choice for forestry? 

*I know there's probably an easier way to do this*
*I edited this to use dplyr syntax which I am hoping was covered in the previous lesson*
```{r}
site_1_new <- site_1 %>%
  mutate(site_ID = 1)
site_2_new <- site_2 %>%
  mutate(site_ID = 2)
site_3_new <- site_3 %>%
  mutate(site_ID = 3)
site_4_new <- site_4 %>%
  mutate(site_ID = 4)
```

#Summary statistics
Now lets start to explore the differences between the sites with summary statistics. What statistics would help you explore the difference in productivity between the different sites? 

```{r}
# Use this chunk to do any summary statistics you feel would be helpful. 
mean(site_1_new$board_feet)
mean(site_2_new$board_feet)
mean(site_3_new$board_feet)
mean(site_4_new$board_feet)

```

Based on these summary statistics, which site seems like the best site so far? What other factors would you like to consider about each of these different sites that was not provided in this dataset?

#Combining the data
Now that you've loaded in and explored that data from each of the sites, it will be useful to combine it in one large data set.

```{r, combining the data}
#Use this chunk to combine all the data from each site
forest<- rbind(site_1_new, site_2_new, site_3_new, site_4_new)
```
 
#Now calculate the mean board_feet at each site from the new combined data.
```{r}
#Use think chunk to calculate the mean board_feet from the combined data, it 
#could be useful to use group_by
forest %>% 
  group_by(site_ID) %>% 
  summarize(mean_age = mean(board_feet))

```
 
*Have they had to insert a code chunk before? This seems like an important skill*

Create a table/tibble with the median age of the trees at each site
```{r}
#Use this chunk to create the table
as_tibble(forest) %>% 
  group_by(site_ID) %>% 
  summarize(median_age = median(age))
  
```

## Graphing the data
Create a scatterplot of the average board_feet from each site
```{r}
#Use this chunk to create the graph
ggplot(forest, aes(x = age, y = board_feet))+
  geom_point(aes(color = as.factor(site_ID)))
```

